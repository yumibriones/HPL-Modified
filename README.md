# HPL-Modified

Modifications to the [Histomorphological Phenotype Learning pipeline (Quiros et al.)](https://github.com/AdalbertoCq/Histomorphological-Phenotype-Learning). For our Spring 2025 Deep Learning for Medicine class.

## Contact information
Yumi Briones - yb2612@nyu.edu, Yumi.Briones@nyulangone.org  
Jennifer Motter - mottej02@nyu.edu, Jennifer.Motter@nyulangone.org  
Alyssa Pradhan - amp10295@nyu.edu, Alyssa.Pradhan@nyulangone.org  

## Repo structure
* `docs` - documentation
* `scripts` - scripts for automation (bash scripts go here)
* `src` - source code
* `tests` - test runs, Jupyter notebooks, etc.

## About the data
To follow.

## Modifications

### HPL-CLIP
*Point person: Yumi Briones*

https://arxiv.org/pdf/2103.00020

We integrated Contrastive Language-Image Pre-Training (CLIP) by OpenAI ([open_clip implementation](https://github.com/mlfoundations/open_clip)) into the HPL pipeline.

![image](HPL-CLIP_diagram.png)

Briefly, we first generated text captions for each image incorporating information on age, gender, and smoking status. We then trained a CLIP model on these image-text pairs using the ViT-B-32 architecture. Finally, we generated HPCs from the image embeddings generated by CLIP following the HPL pipeline (i.e., Leiden clustering).

Tutorial for running HPL-CLIP: https://github.com/yumibriones/HPL-Modified/blob/main/docs/HPL-CLIP_tutorial.md

### HPL-VICReg
*Point person: Jennifer Motter*

https://arxiv.org/pdf/2105.04906

We changed the self-supervised learning (SSL) method of HPL from Barlow Twins to Variance-Invariance-Covariance Regularization (VICReg).

### HPL-ViT
*Point person: Alyssa Pradhan*

https://arxiv.org/pdf/2010.11929

We replaced the convolutional neural network (CNN) backbone of HPL to a vision transformer (ViT).
